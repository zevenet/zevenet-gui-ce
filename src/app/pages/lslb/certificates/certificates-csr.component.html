<!--
  * @license
  * Zevenet Software License
  * This file is part of the Zevenet Load Balancer software.
  *
  * Copyright (C) 2019-today ZEVENET SL, Sevilla (Spain)
  * Licensed under the terms of the GNU Affero General Public License.
  * See License.txt in the project root for license information.
-->

<nb-card>
  <nb-card-header>
    <div translate>LSLB.ssl_certificates.generate_csr</div>
  </nb-card-header>

  <nb-card-body>
  	<form [formGroup]="formGroup" novalidate (ngSubmit)="onSubmit()" class="mr-4 ml-4">  	
	  	<div class="row">
	  		<div class="col-sm-6 col-12">
	  			<div class="form-group">
	  				<label for="name" translate>FORMS.name</label>
	  				<input type="text" class="form-control" name="name" id="name" formControlName="name"/>
	  				<span class="help-block">                    
		  				<small class="form-text" translate>
		                  FORMS.help_form.help_name
		                </small>
		            </span>
		            <div *ngIf="gF.name.dirty && gF.name.errors" class="invalid-feedback">
	                	<div *ngIf="gF.name.errors.required">{{'FORMS.name' | translate}} {{'SYSTEM_MESSAGES.required' | translate}}</div>
	            	</div>
	  			</div>
	  		</div>
	  		<div class="col-sm-6 col-12">
	  			<div class="form-group">
	  				<label for="locality" translate>FORMS.locality</label>
	  				<input type="text" class="form-control" name="locality" id="locality" formControlName="locality"/>
	  				<span class="help-block">                    
		  				<small class="form-text" translate>
											FORMS.help_form.help_locality
		                </small>
		            </span>
		            <div *ngIf="gF.locality.dirty && gF.locality.errors" class="invalid-feedback">
	                	<div *ngIf="gF.locality.errors.required">{{'FORMS.locality' | translate}} {{'SYSTEM_MESSAGES.required' | translate}}</div>
	            	</div>		            
	  			</div>
	  		</div>  		
	  	</div>
	  	<div class="row">
	  		<div class="col-sm-6 col-12">
	  			<div class="form-group">
	  				<label for="country" translate>FORMS.country</label>
	  				<input type="text" class="form-control" name="country" id="country" formControlName="country"/>
	  				<span class="help-block">                    
		  				<small class="form-text" translate>
											FORMS.help_form.help_country
		                </small>
		            </span>
		            <div *ngIf="gF.country.dirty && gF.country.errors" class="invalid-feedback">
	                	<div *ngIf="gF.country.errors.required">{{'FORMS.country' | translate}} {{'SYSTEM_MESSAGES.required' | translate}}</div>
	                	<div *ngIf="gF.country.errors.maxlength || gF.country.errors.minlength">{{'FORMS.country' | translate}} {{'SYSTEM_MESSAGES.only_two_characters' | translate}}</div>	                	
	            	</div>		            
	  			</div>
	  		</div>
	  		<div class="col-sm-6 col-12">
	  			<div class="form-group">
	  				<label for="state" translate>FORMS.state_province</label>
	  				<input type="text" class="form-control" name="state" id="state" formControlName="state"/>
	  				<span class="help-block">                    
		  				<small class="form-text" translate>
											FORMS.help_form.help_state_province
		                </small>
		            </span>
		            <div *ngIf="gF.state.dirty && gF.state.errors" class="invalid-feedback">
	                	<div *ngIf="gF.state.errors.required">{{'FORMS.state_province' | translate}} {{'SYSTEM_MESSAGES.required' | translate}}</div>
	            	</div>		            
	  			</div>
	  		</div>  		
	  	</div>  	
	  	<div class="row">
	  		<div class="col-sm-6 col-12">
	  			<div class="form-group">
	  				<label for="fqdn" translate>FORMS.common_name</label>
	  				<input type="text" class="form-control" name="fqdn" id="fqdn" formControlName="fqdn"/>
	  				<span class="help-block">                    
		  				<small class="form-text" translate>
											FORMS.help_form.help_common_name
		                </small>
		            </span>
		            <div *ngIf="gF.fqdn.dirty && gF.fqdn.errors" class="invalid-feedback">
	                	<div *ngIf="gF.fqdn.errors.required">{{'FORMS.common_name' | translate}} {{'SYSTEM_MESSAGES.required' | translate}}</div>
	            	</div>		            
	  			</div>
	  		</div>
	  		<div class="col-sm-6 col-12">
	  			<div class="form-group">
	  				<label for="organization" translate>FORMS.organization</label>
	  				<input type="text" class="form-control" name="organization" id="organization" formControlName="organization"/>
	  				<span class="help-block">                    
		  				<small class="form-text" translate>
											FORMS.help_form.help_organization
		                </small>
		            </span>
		            <div *ngIf="gF.organization.dirty && gF.organization.errors" class="invalid-feedback">
	                	<div *ngIf="gF.organization.errors.required">{{'FORMS.organization' | translate}} {{'SYSTEM_MESSAGES.required' | translate}}</div>
	            	</div>		            
	  			</div>
	  		</div>  		
	  	</div>  	
	  	<div class="row">
	  		<div class="col-sm-6 col-12">
	  			<div class="form-group">
	  				<label for="division" translate>FORMS.division</label>
	  				<input type="text" class="form-control" name="division" id="division" formControlName="division"/>
	  				<span class="help-block">                    
		  				<small class="form-text" translate>
											FORMS.help_form.help_division
		                </small>
		            </span>
		            <div *ngIf="gF.division.dirty && gF.division.errors" class="invalid-feedback">
	                	<div *ngIf="gF.division.errors.required">{{'FORMS.division' | translate}} {{'SYSTEM_MESSAGES.required' | translate}}</div>
	            	</div>		            
	  			</div>
	  		</div>
	  		<div class="col-sm-6 col-12">
	  			<div class="form-group">
	  				<label for="mail" translate>FORMS.email_address</label>
	  				<input type="email" class="form-control" name="mail" id="mail" formControlName="mail"/>
	  				<span class="help-block">                    
		  				<small class="form-text" translate>
											FORMS.help_form.help_email_address
		                </small>
		            </span>
		            <div *ngIf="gF.mail.dirty && gF.mail.errors" class="invalid-feedback">
	                	<div *ngIf="gF.mail.errors.required">{{'FORMS.email_address' | translate}} {{'SYSTEM_MESSAGES.required' | translate}}</div>
	                	<div *ngIf="gF.mail.errors.email">{{'FORMS.email_address' | translate}} {{'SYSTEM_MESSAGES.valid_email' | translate}}</div>	                	
	            	</div>		            
	  			</div>
	  		</div>  		
	  	</div>   	
	    <div class="row">
	    	<div class="col-sm-12 col-12">
		        <button type="submit" [disabled]="formGroup.invalid" class="btn btn-success mr-1 mt-2" translate>BUTTONS.generate</button>
		        <button type="button" class="btn btn-default mr-1 mt-2" routerLink="../" translate>BUTTONS.cancel</button>
		    </div>
	    </div> 
	</form>
  </nb-card-body>
</nb-card>
